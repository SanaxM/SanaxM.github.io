<!DOCTYPE html>
<html lang="en">
  <title>Timer</title>
  <head>
    <style>
      html{
        display: table;
      }
      body {
        text-align: center;
        vertical-align: middle;
        background-color: rgb(253, 253, 253);
        font-family: sans-serif;
        font-size: 30pt;
      }
      button {
        background-color: rgb(253, 253, 253);
        border-width: thin;
        border-color: black;
      }
      input {
        font-family: sans-serif;
        background-color: rgb(253, 253, 253);
        border-width: thin;
        border-color: black;
      }
    </style>
  </head>
  <body>
    <div id="wrapper">
      <div id="textelem" style="margin: 0; padding: 0; position: absolute; top: 50%; left: 50%; transform: translateX(-50%) translateY(-220%);">
        <input type="text" id="h" style="font-size: 9pt; height: 20px; width:40px;" placeholder = "00">
        <input type="text" id="m" style="font-size: 9pt; height: 20px; width:40px;" placeholder = "00">
        <input type="text" id="s" style="font-size: 9pt; height: 20px; width:40px;" placeholder = "00">
      </div>
      <div id="pelem" style = "text-align: center; margin: 0; padding: 0; position: absolute; top: 50%; left: 50%; transform: translateX(-50%) translateY(-50%);">
        <p id="timer">00 : 00 : 00</p>
      </div>
      <div id="btnelem" style="margin: 0; padding: 0; position: absolute; top: 50%; left: 50%; transform: translateX(-50%) translateY(+100%);">
        <button id="start" onclick=start()>START</button>
        <button id="break" onclick=breaks()>BREAK</button>
        <button id="finish" onclick=finish()>FINISH</button>
      </div>
    </div>
  </body>

</html>


<script type="text/javascript">
  var hours, minutes, seconds = 0;
  var secSet, startInterval, pause = false;
  var t_interval = null;
  var hrs, mins, sec = null;

  document.getElementById("timer").innerHTML = "00 : 00 : 00";

  function start()
  {
    //get vals
    //if statement for each to check if the element value is 0 or blank.
    hours = document.getElementById("h").value;
    minutes = document.getElementById("m").value;
    seconds = document.getElementById("s").value;

    //set the t_interval to decrease 1 second every second
    if (seconds <= 59 && (hours != "" && minutes != "" && seconds != ""))
    {
      t_interval = setInterval(timeChange, 1000);    
    }
  }

  function timeChange()
  {
    //display the time & account for an extra zero for single digits
    if (minutes < 10 && seconds >= 10 && pause == false)
    {
      document.getElementById("timer").innerHTML = 0 + hours + " : " + 0 + minutes + " : " + seconds;
    }
    else if (minutes >= 10 && seconds < 10 && pause == false)
    {
      document.getElementById("timer").innerHTML = 0 + hours + " : " +  minutes + " : " + 0 + seconds;    
    }
    else if (minutes < 10 && seconds < 10 && pause == false)
    {
      document.getElementById("timer").innerHTML = 0 + hours + " : " + 0 + minutes + " : " + 0 + seconds;
    }
    else if (pause == false)
    {
      document.getElementById("timer").innerHTML = 0 + hours + " : " + minutes + " : " + seconds;
    }

    //break function to reset the time to the time paused
    if (pause == true)
    {
      hours = hrs;
      minutes = mins;
      seconds = sec;
      pause = false;
        
      //reset the display
      if (minutes < 10 && seconds >= 10)
      {
        document.getElementById("timer").innerHTML = 0 + hours + " : " + 0 + minutes + " : " + seconds;
      }
      else if (minutes >= 10 && seconds < 10)
      {
        document.getElementById("timer").innerHTML = 0 + hours + " : " +  minutes + " : " + 0 + seconds;    
      }
      else if (minutes < 10 && seconds < 10)
      {
        document.getElementById("timer").innerHTML = 0 + hours + " : " + 0 + minutes + " : " + 0 + seconds;
      }
      else
      {
        document.getElementById("timer").innerHTML = 0 + hours + " : " + minutes + " : " + seconds;
      }
    }

    //decrement time
    if (hours < 0)
    {
      clearInterval(t_interval);
    }
    else if (seconds == 0 && minutes > 0)
    {
      minutes -= 1;
      seconds = 59;
      secSet = true;
    }
    else if (minutes == 0 && seconds == 0 && hours > 0)
    {
      minutes = 59;
      hours -= 1;
      seconds = 59;
      secSet = true;
    }

    //make sure that seconds doesn't elapse into negative #s
    if (secSet == true)
    {
      secSet = false;
    }
    else if (seconds > 0)
    {
      seconds -= 1;
    }

  }
  
  function breaks()
  {
    //get the current interval
    hrs = hours;
    mins = minutes;
    sec = seconds;

    //clear it so it stops working
    clearInterval(t_interval);

    //set pause flag to true so that when start is pressed again, it begins at the current time
    pause = true;
  }

  function reset()
  {
    //reset all the variables
    t_interval = null;
    secSet, startInterval, pause = false;
    document.getElementById("timer").innerHTML = "00 : 00 : 00";
  }

  function finish()
  {
    //finish the intervals and reset all the values
    clearInterval(t_interval);
    document.getElementById("timer").innerHTML = "00 : 00 : 00";
    reset();
  }
</script>